params {
  input = null
  outdir = "results"
  pybin = "python3"
  maf_min = 0.01
  info_min = 0.90
}

process {
  withName: 'GWAS_QC:QC_GWAS' {
    publishDir = [ path: { "${params.outdir}/${meta.id}/post-qc" }, mode: 'copy' ]
  }
  withName: 'GWAS_QC:ADD_NEFF' {
    publishDir = [ path: { "${params.outdir}/${meta.id}/post-qc" }, mode: 'copy' ]
  }
}

profiles {
  local {
    process.executor = 'local'
    docker.enabled = false
    conda.enabled = false
  }

  docker {
    process.executor = 'local'
    docker.enabled = true
    conda.enabled = false
    process.container = 'neurobridge:1'
  }
}

// nextflow run main.nf -profile local --input assets/gwas.tsv --outdir results -resume
// nextflow run main.nf -profile docker --input assets/gwas.tsv --outdir results -resume

